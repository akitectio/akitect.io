{{ define "main" }}
<section class="single main py-5">
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <div class="sticky-top" style="top: 2rem">
          <div id="toc-container" class="toc border rounded p-3">
            {{ .TableOfContents }}
          </div>
        </div>
      </div>
      <div class="col-md-8">
        <h2 class="mb-4">{{ .Title }}</h2>
        <p><i class="far fa-clock"></i> {{ .Date.Format "02/01/2006" }} - <i class="fas fa-book"></i> {{ math.Floor (add (div (float .WordCount) 200) 0.5) }} ph√∫t</p>      </p>
        <div>
          {{ range .Params.tags }} {{ $tagPage := $.Site.GetPage (printf
            "/tags/%s" .) }}
            <a href="{{ $.Page.Site.BaseURL }}tags/{{ . }}">
              <span
                class="badge bg-secondary"
                style="border: 1px solid;color: {{ $tagPage.Params.color }}!important; background-color: {{ $tagPage.Params.background }}!important;"
              >
                #{{ . }}
              </span>
            </a>
            {{ end }}
        </div>
      </p>
      {{ partial "breadcrumbs.html" . }}
      <p>
          {{ if not .Site.Params.google_new.hide }}
          <a href="{{ .Site.Params.google_new.url }}">
            <img
              width="15%"
              src="/follow-google-news.png"
              alt="Follow {{ .Site.Params.title }} on Google News"
            />
          </a>
          {{ end }}
        </p>
        {{ if eq (getenv "HUGO_ENV") "production" }}
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6342139522924885"
        crossorigin="anonymous"></script>
          <ins class="adsbygoogle"
              style="display:block; text-align:center;"
              data-ad-layout="in-article"
              data-ad-format="fluid"
              data-ad-client="ca-pub-6342139522924885"
              data-ad-slot="2211502811"></ins>
          <script>
              (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        {{ end }}
        {{ with .Params.subtitle }}
        <h3 class="mb-4 text-muted">{{ . }}</h3>
        {{ end }}
        {{/*  <div class="content mb-5">{{ .Content }}</div>  */}}

        {{ $parts := split .Content "<!-- insert-ad-here -->" }}
        <div class="content mb-5" v-html="safeHTML">
          {{ index $parts 0 | safeHTML }}
        </div>

        {{ if eq (getenv "HUGO_ENV") "production" }}
        <!-- Insert your JavaScript ad code here -->
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6342139522924885"
            crossorigin="anonymous"></script>
        <ins class="adsbygoogle"
            style="display:block"
            data-ad-format="autorelaxed"
            data-ad-client="ca-pub-6342139522924885"
            data-ad-slot="1731360354"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
        {{ end }}
        <div class="content mb-5" v-html="safeHTML">
          {{ if gt (len $parts) 1 }}
            {{ index $parts 1 | safeHTML }}
          {{ end }}
        </div>

        {{ if eq (getenv "HUGO_ENV") "production" }}
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6342139522924885"
            crossorigin="anonymous"></script>
        <ins class="adsbygoogle"
            style="display:block; text-align:center;"
            data-ad-layout="in-article"
            data-ad-format="fluid"
            data-ad-client="ca-pub-6342139522924885"
            data-ad-slot="4688109459"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
        {{ end }}
      </div>
    </div>
  </div>
</section>
{{ end }}
